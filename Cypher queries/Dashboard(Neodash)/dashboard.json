{
  "uuid": "58cf4cda-7394-4f33-b323-920406ef477d",
  "title": "Supply Chain ",
  "version": "2.4",
  "settings": {
    "pagenumber": 0,
    "editable": true,
    "fullscreenEnabled": false,
    "parameters": {
      "neodash_selectedproduct": "Apples",
      "neodash_selectedproduct_display": "Apples",
      "undefined": "",
      "undefined_display": "",
      "neodash_startcountry": "United States of America",
      "neodash_startcountry_display": "United States of America",
      "neodash_neodash_startcountry": "Ecuador",
      "neodash_neodash_startcountry_display": "Ecuador",
      "neodash_neodash_endcountry": "Canada",
      "neodash_neodash_endcountry_display": "Canada",
      "neodash_endcountry": "Uruguay",
      "neodash_endcountry_display": "Uruguay",
      "neodash_selectedyear": 2020,
      "neodash_selectedyear_display": 2020,
      "neodash_selectedcountry": "United States of America",
      "neodash_selectedcountry_display": "United States of America",
      "neodash_chosenproduct": "Wheat",
      "neodash_chosenproduct_display": "Wheat"
    },
    "theme": "light",
    "downloadImageEnabled": true
  },
  "pages": [
    {
      "title": "Main Page",
      "reports": [
        {
          "id": "926c5fdf-087a-4ad0-ad88-0e375efd9f4e",
          "title": "_______Graph model (subpart)______",
          "query": "MATCH (n)-[r]->(m)\nRETURN n, r, m\nlimit 300\n",
          "width": 10,
          "height": 5,
          "x": 6,
          "y": 0,
          "type": "graph",
          "selection": {
            "Country": "name",
            "TRADES": "(label)",
            "HAS_TRADE_LINK": "(label)",
            "TradeLink": "productId",
            "FOR_PRODUCT": "(label)",
            "FoodProduct": "name",
            "HAS_OBSERVATION": "(label)",
            "Observation": "type"
          },
          "settings": {
            "frozen": true,
            "nodePositions": {
              "14": [
                7.0710678118654755,
                0
              ],
              "15": [
                -9.03088751750192,
                8.273032735715967
              ],
              "16": [
                1.3823220809823638,
                -15.750847141167634
              ],
              "17": [
                11.382848792909423,
                14.846910566099618
              ],
              "18": [
                -20.88892748977138,
                -3.694957148205299
              ],
              "19": [
                19.78781566111266,
                -12.587388583889217
              ],
              "21": [
                -6.618637082526906,
                24.621000044064004
              ],
              "22": [
                -12.62245871740517,
                -24.303776166007665
              ],
              "23": [
                27.3856864633483,
                10.001208773502414
              ],
              "24": [
                -28.490243449190146,
                11.760358336627238
              ],
              "25": [
                13.734179949820856,
                -29.34914481047001
              ],
              "26": [
                10.149209636450301,
                32.35727960993298
              ],
              "27": [
                -30.589835678756263,
                -17.727435041389676
              ],
              "28": [
                35.88535934290564,
                -7.889295585192323
              ],
              "29": [
                -21.900276194166445,
                31.150889274934457
              ],
              "30": [
                -5.05947091685981,
                -39.04358787357342
              ],
              "31": [
                31.060189025756014,
                26.17756019349981
              ],
              "32": [
                -41.7972782028575,
                1.7284486781313184
              ],
              "33": [
                30.487905903426476,
                -30.339538454363694
              ],
              "34": [
                -2.039759023075995,
                44.11166946656837
              ],
              "35": [
                -29.009340345864786,
                -34.762884988127524
              ],
              "36": [
                45.95399818121157,
                6.183045460062862
              ],
              "37": [
                -38.93672971725283,
                27.09116237678997
              ],
              "38": [
                10.639754127738415,
                -47.294773834973284
              ],
              "39": [
                24.609197771495488,
                42.94633145035117
              ],
              "40": [
                -48.108627040199295,
                -15.347964174671652
              ],
              "41": [
                46.73140878326114,
                -21.591096154010888
              ],
              "42": [
                -20.24521394750863,
                48.374903743776095
              ],
              "43": [
                -171.32805096593074,
                145.09248474309103
              ],
              "44": [
                -140.5257424011915,
                142.57336098334318
              ],
              "45": [
                -153.4118731058701,
                147.538665872794
              ],
              "46": [
                -121.10116029153227,
                118.61676430122178
              ],
              "47": [
                47.54680921635383,
                6.085980471081429
              ],
              "48": [
                48.277406561903874,
                -8.914306284563654
              ],
              "49": [
                50.87893436888214,
                18.887705705834342
              ],
              "50": [
                49.728746204291056,
                -27.856559432082168
              ],
              "51": [
                10.433159907242832,
                -160.14005851698323
              ],
              "52": [
                -2.031129502435384,
                -176.14451579284787
              ],
              "53": [
                8.543009718163965,
                -172.47087205177928
              ],
              "54": [
                20.399298146094846,
                -167.26329510911373
              ],
              "55": [
                126.64125279754832,
                106.03962991003797
              ],
              "56": [
                140.01904583846903,
                84.71268975290783
              ],
              "57": [
                135.73251447485347,
                94.54450770486875
              ],
              "58": [
                127.7767781890824,
                122.0531015848827
              ],
              "59": [
                51.556843574160325,
                112.63610163554367
              ],
              "60": [
                57.30623616643618,
                100.94949509673661
              ],
              "61": [
                48.278947243938006,
                126.94628930805952
              ],
              "62": [
                66.65886954349116,
                107.3637862322247
              ],
              "63": [
                -46.90053003992505,
                -193.46303391529764
              ],
              "64": [
                -35.0702415155975,
                -191.7945075391727
              ],
              "65": [
                -22.53675300843513,
                -185.3185101444364
              ],
              "66": [
                -56.56380198025546,
                -200.6184957748345
              ],
              "67": [
                197.6955168575413,
                31.775164383377586
              ],
              "68": [
                200.67409929666297,
                44.33495809764842
              ],
              "69": [
                203.86500353270807,
                56.98662984941398
              ],
              "70": [
                206.92840876192992,
                22.80993411254117
              ],
              "71": [
                -232.24376861917187,
                9.57781921121238
              ],
              "72": [
                -164.5130637374311,
                2.81252137337125
              ],
              "73": [
                -162.0347013896626,
                31.30824601771795
              ],
              "74": [
                -189.01166772724056,
                -16.06475542048989
              ],
              "75": [
                100.60341236468906,
                33.77917112334258
              ],
              "76": [
                98.94033105714348,
                46.838102914744844
              ],
              "77": [
                107.86032499607352,
                10.97009477117537
              ],
              "78": [
                110.08955131996285,
                25.87432652073172
              ],
              "79": [
                80.41050869336065,
                -139.169778419285
              ],
              "80": [
                72.8142904359177,
                -156.84271765678625
              ],
              "81": [
                82.68845254001205,
                -151.5001870158049
              ],
              "82": [
                93.72288545378443,
                -141.19375515774885
              ],
              "83": [
                -125.98896526933449,
                -76.40291286691469
              ],
              "84": [
                -167.77294783028296,
                -83.96161769854442
              ],
              "85": [
                -137.57527323937262,
                -82.02083385332715
              ],
              "86": [
                -181.0188416729329,
                -80.31568031062082
              ],
              "87": [
                -4.788236426757891,
                -63.78936987412521
              ],
              "88": [
                -18.47794372458304,
                -78.65880396884604
              ],
              "89": [
                9.842062935180781,
                -36.34687431142174
              ],
              "90": [
                9.74209256163202,
                -61.03554997304995
              ],
              "91": [
                -193.61016266570292,
                108.73231646751402
              ],
              "92": [
                -212.22983814236395,
                108.74003576297844
              ],
              "93": [
                -237.22517487544943,
                71.86109488857366
              ],
              "94": [
                -170.4249115334803,
                87.81772196496472
              ],
              "95": [
                137.2754148841342,
                -73.20680098511565
              ],
              "96": [
                144.9039812297106,
                -60.961268976254736
              ],
              "97": [
                139.36801850545243,
                -86.17057045810623
              ],
              "98": [
                150.70223402799212,
                -74.18096547169655
              ],
              "99": [
                -77.36188175725997,
                160.86651591181428
              ],
              "100": [
                -65.7706228397907,
                154.23420460343
              ],
              "101": [
                -58.08529430741612,
                146.07418318116817
              ],
              "102": [
                -83.36807915286101,
                171.0085100773754
              ],
              "103": [
                -21.524470365082532,
                135.8613094196215
              ],
              "104": [
                -14.160714978792985,
                122.60136481451676
              ],
              "105": [
                -23.958815782225013,
                149.48714405701708
              ],
              "106": [
                -5.171593428159461,
                114.06605243104738
              ],
              "107": [
                77.31503028441676,
                -74.23802309802313
              ],
              "108": [
                78.11894559763981,
                -87.43161958023688
              ],
              "109": [
                91.53419881943645,
                -83.29629383036631
              ],
              "111": [
                -128.34142441490573,
                138.66068635893882
              ],
              "112": [
                -184.2403006832056,
                147.43900317639253
              ],
              "113": [
                -130.3790010196092,
                150.88720367224778
              ],
              "114": [
                -167.900374633402,
                156.42338924068437
              ],
              "115": [
                -97.22137452607934,
                -155.20574338999938
              ],
              "116": [
                -107.69189612052546,
                -160.88307928767927
              ],
              "117": [
                -119.34599018053545,
                -167.31909253042878
              ],
              "118": [
                -107.13365321382105,
                -174.41467491621376
              ],
              "119": [
                136.6768856074791,
                115.10538631292637
              ],
              "120": [
                143.6692386021029,
                103.20071275684174
              ],
              "121": [
                134.34882509092188,
                131.87384313365095
              ],
              "122": [
                154.82489878610394,
                91.93399258589133
              ],
              "123": [
                -22.048216098437234,
                -196.52086946741628
              ],
              "124": [
                -40.98806412741303,
                -206.71164579934901
              ],
              "125": [
                -62.21871932267827,
                -210.33581259531488
              ],
              "126": [
                -29.26557908527969,
                -209.0424989332741
              ],
              "127": [
                -218.3149732003617,
                -6.5571644137774925
              ],
              "128": [
                -176.21811368986187,
                -11.657736733767917
              ],
              "129": [
                -226.58789167625335,
                34.74580324591
              ],
              "130": [
                -199.04120152796662,
                -22.041778998925906
              ],
              "131": [
                -156.4475510072588,
                -89.44294888415264
              ],
              "132": [
                -192.3526024678535,
                -78.81512786530806
              ],
              "133": [
                -144.02842965997627,
                -91.70179205920132
              ],
              "134": [
                -127.8047660160619,
                -89.79428849814933
              ],
              "135": [
                -228.5194461206856,
                98.78463915331177
              ],
              "136": [
                -234.73057746241352,
                57.89835474071966
              ],
              "137": [
                -204.7303380099103,
                117.90970596054154
              ],
              "138": [
                -242.1392210928166,
                86.18979858721846
              ],
              "139": [
                -68.02834286423426,
                168.82928021199945
              ],
              "140": [
                -92.26216826859789,
                177.776223734591
              ],
              "141": [
                -54.09736972947256,
                160.99212407395157
              ],
              "142": [
                -53.92936163757362,
                172.84931148937304
              ],
              "143": [
                -86.79845023931664,
                -106.3787965104533
              ],
              "144": [
                -67.49146427906999,
                -94.43210129367507
              ],
              "145": [
                -69.85719950256002,
                -106.6136925112378
              ],
              "146": [
                -79.78448764745939,
                -117.41982537562238
              ],
              "147": [
                -144.68054180532397,
                157.86432010558732
              ],
              "148": [
                -157.4305701130414,
                162.70353984854714
              ],
              "149": [
                -182.36780534547702,
                160.2533587502675
              ],
              "150": [
                -135.404825218441,
                165.30985932859525
              ],
              "151": [
                56.58422442498194,
                -19.445349864440907
              ],
              "152": [
                61.30779927037038,
                -4.091922959433598
              ],
              "153": [
                62.94184091326537,
                11.748131815774704
              ],
              "154": [
                68.78293481340451,
                -13.450498961514784
              ],
              "155": [
                29.01328145666554,
                -160.73561315729063
              ],
              "156": [
                12.039406652566594,
                -184.2953949960132
              ],
              "157": [
                25.20773729021436,
                -180.08613917083306
              ],
              "158": [
                14.13264996810408,
                -194.64667149125935
              ],
              "159": [
                155.3277044378186,
                104.12508796778346
              ],
              "160": [
                149.3182942569241,
                121.35593574622622
              ],
              "161": [
                146.33792348326125,
                135.05709122847927
              ],
              "162": [
                160.2512789898634,
                117.32061136359465
              ],
              "163": [
                60.68815200945204,
                124.34100707754287
              ],
              "164": [
                51.781240279613286,
                140.2017742746759
              ],
              "165": [
                74.121954042199,
                116.94748801813955
              ],
              "166": [
                65.97392402453558,
                136.11486808500285
              ],
              "167": [
                -52.94630841533244,
                -217.4916195284431
              ],
              "168": [
                -16.277135015883196,
                -208.30795977764254
              ],
              "169": [
                -36.66339912369831,
                -219.6912152950405
              ],
              "170": [
                -11.340523947112462,
                -217.49624026219806
              ],
              "171": [
                212.73239567606365,
                36.89496989562415
              ],
              "172": [
                216.78389130235163,
                55.49918548886756
              ],
              "173": [
                218.56155375596535,
                19.380262606709106
              ],
              "174": [
                224.72162532319396,
                41.409511660292026
              ],
              "175": [
                -209.5366118354871,
                -15.71919013540985
              ],
              "176": [
                -237.842933639656,
                22.560838562467616
              ],
              "177": [
                -231.25880400604458,
                -3.886073370765301
              ],
              "178": [
                -214.58749163947917,
                -26.141163437708972
              ],
              "179": [
                111.05336486932728,
                48.201772246300266
              ],
              "180": [
                118.19216364912776,
                17.565125051214213
              ],
              "181": [
                121.75427384762662,
                32.30360079527242
              ],
              "182": [
                125.06258715158721,
                5.760153909123282
              ],
              "183": [
                79.8188022164764,
                -168.6855195628861
              ],
              "184": [
                93.29714908257235,
                -159.4065298451875
              ],
              "185": [
                104.63758884327999,
                -147.64343218280257
              ],
              "186": [
                90.35601844992183,
                -175.4600400129464
              ],
              "187": [
                -176.3408323482146,
                -93.96110616850066
              ],
              "188": [
                -152.39492941451005,
                -103.83111888531329
              ],
              "189": [
                -141.08876063853052,
                -104.25998770513516
              ],
              "190": [
                -164.32002195377373,
                -103.8935898845773
              ],
              "191": [
                -2.556417010390941,
                -75.93622643268644
              ],
              "192": [
                19.116535512642113,
                -47.26319728661271
              ],
              "193": [
                -7.919665902767775,
                -87.05686359632833
              ],
              "194": [
                14.351355507285259,
                -71.2148372442149
              ],
              "195": [
                -225.69738511114846,
                111.78168337693518
              ],
              "196": [
                -247.00744167468815,
                66.92357174084444
              ],
              "197": [
                -217.3367542126807,
                123.32181692100782
              ],
              "198": [
                -241.5380391330322,
                102.16953405105244
              ],
              "199": [
                157.21698462652773,
                -58.24277674394476
              ],
              "200": [
                151.10075482774494,
                -91.07564544776542
              ],
              "201": [
                162.44849901916592,
                -77.40259326425345
              ],
              "202": [
                168.43791314674965,
                -63.14998668362909
              ],
              "203": [
                -96.12014643716392,
                188.18082455374574
              ],
              "204": [
                -63.58165165722548,
                181.00843860858737
              ],
              "205": [
                -77.88033839174253,
                187.32788315648452
              ],
              "206": [
                -87.8268183103961,
                196.67285963922794
              ],
              "207": [
                -8.288044911166379,
                135.0263735489608
              ],
              "208": [
                1.5601634973717111,
                126.45801169503441
              ],
              "209": [
                -11.75912642571139,
                152.32856370560933
              ],
              "210": [
                -1.7813696892319655,
                144.21260981110694
              ],
              "215": [
                -145.3890029118499,
                171.70532928979597
              ],
              "216": [
                -174.91267582444152,
                170.52313458511995
              ],
              "217": [
                72.23261614063505,
                2.4251992148686843
              ],
              "218": [
                68.48009579108053,
                -29.577188598102072
              ],
              "219": [
                36.6417503353343,
                -178.9746191374626
              ],
              "220": [
                22.093086047087898,
                -202.2989109439482
              ],
              "221": [
                168.69742399602612,
                103.02887854235318
              ],
              "222": [
                159.67860481211744,
                133.74794652986236
              ],
              "223": [
                60.66228129621784,
                149.5617300590538
              ],
              "224": [
                79.20982257851827,
                129.14660374213958
              ],
              "225": [
                -45.05806226136984,
                -228.73041449247629
              ],
              "226": [
                -23.128153143232502,
                -226.74661405629325
              ],
              "227": [
                228.86552489661187,
                25.27199636563562
              ],
              "228": [
                232.12583959164454,
                52.965774851266985
              ],
              "229": [
                -225.17243329440234,
                -20.425359119268684
              ],
              "230": [
                -244.61284025845652,
                9.420342918612981
              ],
              "231": [
                131.13915954608484,
                20.445644662175212
              ],
              "232": [
                134.88201643631993,
                35.96852253988165
              ],
              "233": [
                107.48789745833915,
                -159.59038716800288
              ],
              "234": [
                100.77840453523291,
                -179.18945547634803
              ],
              "235": [
                -189.91593206663984,
                -95.8662846186098
              ],
              "236": [
                -181.90184861349957,
                -106.11321740625579
              ],
              "237": [
                6.99434296264938,
                -86.13149309765352
              ],
              "238": [
                27.314873640886947,
                -61.77864479591236
              ],
              "239": [
                -253.13027347707236,
                80.12206281065372
              ],
              "240": [
                -231.95342391826023,
                122.6332087905566
              ],
              "241": [
                164.64421390744738,
                -92.24865481866004
              ],
              "242": [
                176.92796450568898,
                -72.7411362024952
              ],
              "243": [
                -66.0713169851137,
                192.4049935257414
              ],
              "244": [
                -76.11139329570139,
                201.9044913248536
              ],
              "245": [
                -12.953127094114226,
                164.66235234625236
              ],
              "246": [
                8.064973379989986,
                147.77626013098754
              ],
              "249": [
                -165.22638252327988,
                175.78503332915906
              ],
              "250": [
                78.76716769870791,
                -24.753448290348793
              ],
              "251": [
                31.640234215266858,
                -199.51459504716448
              ],
              "252": [
                172.99766470701562,
                115.14702167236501
              ],
              "253": [
                79.28553934902126,
                140.5604523570098
              ],
              "254": [
                -31.726725913975447,
                -234.5538806860598
              ],
              "255": [
                238.54502803826367,
                32.176430747003245
              ],
              "256": [
                -243.60194554873124,
                -5.78794029431698
              ],
              "257": [
                140.1989709465742,
                11.214370096122124
              ],
              "258": [
                110.5895976825551,
                -174.58401398366485
              ],
              "259": [
                -173.14369470087928,
                -113.4980834249162
              ],
              "260": [
                19.005084593239925,
                -83.81866229001868
              ],
              "261": [
                -243.19757490218709,
                114.58121103773905
              ],
              "262": [
                176.47387013270452,
                -90.80635362053621
              ],
              "263": [
                -51.1345184578006,
                191.42377842075476
              ],
              "264": [
                3.869046583837143,
                160.27718786593798
              ],
              "266": [
                -154.8037906161204,
                180.2952751920954
              ],
              "267": [
                83.25803128640125,
                -12.81840731816769
              ],
              "268": [
                40.63435729763778,
                -194.83922262739017
              ],
              "269": [
                171.84862583652205,
                127.32608576558151
              ],
              "270": [
                74.97517684165572,
                152.06938871248846
              ],
              "271": [
                -12.979291042223466,
                -232.2966403171985
              ],
              "272": [
                242.00433010120233,
                43.92879372571986
              ],
              "273": [
                -236.76807409954304,
                -18.113140771618685
              ],
              "274": [
                144.81300052027902,
                25.89290335996601
              ],
              "275": [
                119.56682926146792,
                -166.6694146178064
              ],
              "276": [
                -160.31445359119988,
                -117.11529112111049
              ],
              "277": [
                28.34789341100684,
                -76.60497689116315
              ],
              "278": [
                -253.4481921971988,
                98.46503330775244
              ],
              "279": [
                184.43861299178937,
                -81.38134100081727
              ],
              "280": [
                -60.646244326963796,
                202.8592284626786
              ],
              "281": [
                -0.4484836692471319,
                170.8648748799893
              ]
            },
            "backgroundColor": "#FFFFFF",
            "ignoreNonDefinedParams": false,
            "refreshButtonEnabled": true,
            "fullscreenEnabled": true,
            "downloadImageEnabled": true,
            "nodeColorScheme": "set1",
            "relationshipParticles": true,
            "defaultRelWidth": 1,
            "relLabelFontSize": 2,
            "defaultNodeSize": 10,
            "nodeLabelFontSize": 2.5,
            "arrowLengthProp": 3,
            "allowDownload": true,
            "nodeLabelColor": "#FFFFFF",
            "description": "Supply Chain connectivity",
            "nodeSizeProp": "5",
            "showPropertiesOnHover": true,
            "rightClickToExpandNodes": false,
            "relationshipParticleSpeed": 1
          },
          "schema": [
            [
              "Country",
              "area_code",
              "name"
            ],
            [
              "TRADES",
              "unit",
              "export_2020",
              "export_2022",
              "product_code",
              "export_2021",
              "product_name",
              "export_2023"
            ],
            [
              "HAS_TRADE_LINK"
            ],
            [
              "TradeLink",
              "productId",
              "countryId"
            ],
            [
              "FOR_PRODUCT"
            ],
            [
              "FoodProduct",
              "item_code",
              "name"
            ],
            [
              "HAS_OBSERVATION"
            ],
            [
              "Observation",
              "type",
              "value"
            ]
          ]
        },
        {
          "id": "a6e117e4-37c5-4821-b3f5-832209e7b499",
          "title": "Import&Export of all countries all products",
          "query": "\nCALL {\n  // Query for Exports: sum export_2023 by exporter and product.\n  MATCH (e:Country)-[t:TRADES]->(:Country)\n  WHERE t.export_2023 IS NOT NULL\n  RETURN e.name AS country, \n         t.product_name AS product, \n         sum(t.export_2023) AS totalExports, \n         0 AS totalImports\n  UNION ALL\n  // Query for Imports: sum export_2023 by importer and product.\n  MATCH (:Country)-[t:TRADES]->(i:Country)\n  WHERE t.export_2023 IS NOT NULL\n  RETURN i.name AS country, \n         t.product_name AS product, \n         0 AS totalExports, \n         sum(t.export_2023) AS totalImports\n}\nWITH country, product, sum(totalExports) AS totalExports, sum(totalImports) AS totalImports\nRETURN country, product, totalExports, totalImports\nORDER BY totalExports DESC;\n\n\n",
          "width": 8,
          "height": 4,
          "x": 0,
          "y": 13,
          "type": "table",
          "selection": {},
          "settings": {
            "backgroundColor": "#F6DBDB"
          }
        },
        {
          "id": "5b146d40-f4cd-400f-a388-e1472abf643b",
          "title": "Select Product",
          "query": "MATCH (p:FoodProduct)\nRETURN DISTINCT p.name AS value\nORDER BY value\n",
          "width": 6,
          "height": 2,
          "x": 8,
          "y": 5,
          "type": "select",
          "selection": {},
          "settings": {
            "fullscreenEnabled": true,
            "ignoreNonDefinedParams": false,
            "type": "Custom Query",
            "entityType": "selectedProduct",
            "backgroundColor": "#CACACA",
            "parameterName": "neodash_selectedproduct"
          },
          "schema": []
        },
        {
          "id": "0d004345-f2ae-48f9-833f-b0bd4940826e",
          "title": "Product Metrics",
          "query": "MATCH (c:Country)-[:HAS_TRADE_LINK]->(tl:TradeLink)-[:FOR_PRODUCT]->(p:FoodProduct {name:$neodash_selectedproduct})\nMATCH (y:Year {year:2023})\nOPTIONAL MATCH (tl)-[:HAS_OBSERVATION]->(prod:Observation {type:\"production\"})-[:OBSERVED_IN]->(y)\nOPTIONAL MATCH (tl)-[:HAS_OBSERVATION]->(cons:Observation {type:\"consumption\"})-[:OBSERVED_IN]->(y)\nRETURN c.name AS country,\n       coalesce(prod.value, 0) AS production,\n       coalesce(cons.value, 0) AS consumption,\n       (coalesce(cons.value, 0) - coalesce(prod.value, 0)) AS netImport\nORDER BY country;\n",
          "width": 8,
          "height": 4,
          "x": 0,
          "y": 5,
          "type": "bar",
          "selection": {
            "index": "country",
            "value": "production",
            "key": "(none)"
          },
          "settings": {
            "type": "Node Property",
            "fullscreenEnabled": true,
            "backgroundColor": "#07B1FA5E",
            "legend": false,
            "showOptionalSelections": false,
            "colors": "category10",
            "marginLeft": 75,
            "labelRotation": "-45",
            "marginBottom": 30,
            "legendPosition": "Horizontal"
          },
          "schema": []
        },
        {
          "id": "fe3169d7-6f7a-478c-ad6e-2bc4ca1cf5b4",
          "title": "Net Import/Export",
          "query": "CALL {\n  // Exports subquery\n  MATCH (exporter:Country)-[t:TRADES]->(:Country)\n  WHERE t.export_2023 IS NOT NULL\n    AND t.product_name = $neodash_selectedproduct\n  RETURN exporter.name AS country, \n         t.product_name AS product, \n         sum(t.export_2023) AS totalExports, \n         0 AS totalImports\n  UNION ALL\n  // Imports subquery\n  MATCH (:Country)-[t:TRADES]->(importer:Country)\n  WHERE t.export_2023 IS NOT NULL\n    AND t.product_name = $neodash_selectedproduct\n  RETURN importer.name AS country, \n         t.product_name AS product, \n         0 AS totalExports, \n         sum(t.export_2023) AS totalImports\n}\nWITH country, product, sum(totalExports) AS totalExports, sum(totalImports) AS totalImports\nRETURN country, totalExports, totalImports\nORDER BY totalExports DESC;\n",
          "width": 8,
          "height": 4,
          "x": 14,
          "y": 5,
          "type": "pie",
          "selection": {
            "index": "country",
            "value": "totalImports",
            "key": "(none)"
          },
          "settings": {
            "backgroundColor": "#07B1FA5E",
            "legend": true,
            "sortByValue": true,
            "colors": "category10",
            "cornerRadius": 2
          },
          "schema": []
        },
        {
          "id": "5e34c77f-cbc3-4bdd-a4aa-575a4224f6ef",
          "title": "Start Country",
          "query": "\nMATCH (c:Country)\nRETURN DISTINCT c.name AS value\nORDER BY value\n\n\n",
          "width": 6,
          "height": 2,
          "x": 8,
          "y": 13,
          "type": "select",
          "selection": {},
          "settings": {
            "type": "Custom Query",
            "backgroundColor": "#CACACA",
            "fullscreenEnabled": true,
            "entityType": "startcountry",
            "parameterName": "neodash_startcountry"
          },
          "schema": []
        },
        {
          "id": "d2cac878-1cbd-4a06-9046-7b88e4ebe92e",
          "title": "End Country",
          "query": "\nMATCH (c:Country)\nRETURN DISTINCT c.name AS end_value\nORDER BY end_value\n\n\n",
          "width": 6,
          "height": 2,
          "x": 8,
          "y": 15,
          "type": "select",
          "selection": {},
          "settings": {
            "type": "Custom Query",
            "entityType": "endcountry",
            "backgroundColor": "#CACACA",
            "fullscreenEnabled": true,
            "parameterName": "neodash_endcountry"
          },
          "schema": []
        },
        {
          "id": "d89027aa-9ce8-4a35-a821-eade68015b0a",
          "title": "Shortest trade path",
          "query": "MATCH (start:Country {name: $neodash_startcountry}), (end:Country {name: $neodash_endcountry})\nMATCH path = shortestPath((start)-[:TRADES*]-(end))\nRETURN start.name AS StartCountry,\n       end.name AS EndCountry,\n       length(path) AS Hops,\n       path;\n",
          "width": 8,
          "height": 4,
          "x": 14,
          "y": 13,
          "type": "graph",
          "selection": {
            "Country": "name"
          },
          "settings": {
            "fullscreenEnabled": true,
            "frozen": true,
            "backgroundColor": "#57AF0514"
          },
          "schema": [
            [
              "Country",
              "area_code",
              "latitude",
              "name",
              "longitude"
            ]
          ]
        },
        {
          "id": "11d06248-8eb2-477a-984c-f050f3afd37e",
          "title": "Net Revenue",
          "query": "MATCH (exporter:Country)-[r:TRADES]->(importer:Country)\nWHERE r.product_name = $neodash_chosenproduct\n  AND r.export_2023 IS NOT NULL\nWITH exporter, \n     head(collect(distinct r.unit)) AS unit, \n     sum(r.export_2023) AS totalRevenue\nRETURN exporter.name AS ExportingCountry,\n       totalRevenue AS Revenue,\n       unit AS Unit\nORDER BY totalRevenue DESC;\n",
          "width": 8,
          "height": 4,
          "x": 0,
          "y": 17,
          "type": "table",
          "selection": {},
          "settings": {
            "fullscreenEnabled": true,
            "backgroundColor": "#57AF0514"
          },
          "schema": []
        },
        {
          "id": "adfd61e0-34c6-41c1-9b3f-6ac046369b3c",
          "title": "Price fluctuations",
          "query": "MATCH (c:Country {name: $neodash_startcountry})-[:HAS_TRADE_LINK]->(tl:TradeLink)-[:FOR_PRODUCT]->(p:FoodProduct {name: $neodash_selectedproduct})\nMATCH (tl)-[:HAS_OBSERVATION]->(obs:Observation {type:\"price\"})-[:OBSERVED_IN]->(y:Year)\nWHERE y.year IN [2020, 2021, 2022, 2023]\nRETURN y.year AS Year, obs.value AS Price\nORDER BY Year;\n\n\n\n",
          "width": 6,
          "height": 4,
          "x": 8,
          "y": 9,
          "type": "line",
          "selection": {
            "x": "Year",
            "value": [
              "Price"
            ]
          },
          "settings": {
            "fullscreenEnabled": true,
            "refreshButtonEnabled": false,
            "xScale": "linear",
            "minXValue": 2020,
            "maxXValue": 2023,
            "xTickValues": 4,
            "xTickRotationAngle": "-45",
            "showGrid": true,
            "hideSelections": false,
            "legend": true,
            "legendWidth": 100,
            "marginRight": 20,
            "marginTop": 20,
            "marginBottom": 40,
            "marginLeft": 50,
            "lineWidth": 4,
            "pointSize": 20,
            "colors": "dark2",
            "backgroundColor": "#00000000"
          },
          "schema": []
        },
        {
          "id": "c231fccd-ce69-4ed4-b065-ade67e8de08e",
          "title": "Alternate supplier of a product",
          "query": "MATCH (supplier:Country)-[:HAS_TRADE_LINK]->(tl:TradeLink)-[:FOR_PRODUCT]->(p:FoodProduct {name: $neodash_selectedproduct})\nMATCH (tl)-[:HAS_OBSERVATION]->(o:Observation {type: \"production\"})-[:OBSERVED_IN]->(y:Year {year: 2023})\nWHERE supplier.name <> $neodash_selectedcountry AND o.value > 0\nRETURN supplier.name AS AlternateSupplier, o.value AS ProductionQuantity\nORDER BY o.value DESC;\n",
          "width": 8,
          "height": 4,
          "x": 0,
          "y": 9,
          "type": "pie",
          "selection": {
            "index": "AlternateSupplier",
            "value": "ProductionQuantity",
            "key": "(none)"
          },
          "settings": {
            "backgroundColor": "#07B1FA30"
          },
          "schema": []
        },
        {
          "id": "701e2cd4-911f-4215-99b2-53af58a6aca6",
          "title": "Start Country",
          "query": "\nMATCH (c:Country)\nRETURN DISTINCT c.name AS value\nORDER BY value\n\n\n",
          "width": 6,
          "height": 2,
          "x": 8,
          "y": 7,
          "type": "select",
          "selection": {},
          "settings": {
            "type": "Custom Query",
            "backgroundColor": "#CACACA",
            "fullscreenEnabled": true,
            "entityType": "selectedCountry",
            "parameterName": "neodash_selectedcountry"
          },
          "schema": []
        },
        {
          "id": "275d4d55-4722-4d9c-b31b-8242b055d28f",
          "title": "Trade ban",
          "query": "MATCH (exporter:Country)-[r:TRADES]->(importer:Country)\nWHERE toLower(r.product_name) = toLower($neodash_selectedproduct)\n  AND toLower(exporter.name) = toLower($neodash_selectedcountry)\n  AND r.export_2023 IS NOT NULL\n\nWITH exporter, importer, r.export_2023 AS BannedExport\nOPTIONAL MATCH (importer)-[totalTrade:TRADES]->(:Country)\nWHERE toLower(totalTrade.product_name) = toLower($neodash_selectedproduct)\n\nWITH exporter, importer, BannedExport, \n     COALESCE(SUM(totalTrade.export_2023), 0) AS TotalImports, \n     CASE WHEN SUM(totalTrade.export_2023) > 0 \n          THEN (BannedExport / SUM(totalTrade.export_2023)) * 100 \n          ELSE 0 END AS DependencyRate\n\nOPTIONAL MATCH (alternative:Country)-[altTrade:TRADES]->(importer)\nWHERE toLower(altTrade.product_name) = toLower($neodash_selectedproduct) \n  AND alternative <> exporter\n\nWITH exporter, importer, BannedExport, TotalImports, DependencyRate, \n     COALESCE(alternative.name, \"No Alternative Supplier\") AS AlternativeSupplier, \n     COALESCE(altTrade.export_2023, 0) AS AltSupply\n\nRETURN exporter.name AS BanningCountry,\n       importer.name AS AffectedCountry,\n       BannedExport AS ImportFromBannedCountry,\n       TotalImports AS TotalImports2023,\n       DependencyRate AS PercentageDependency,\n       AlternativeSupplier,\n       AltSupply AS AlternativeSupply,\n       CASE \n           WHEN AltSupply = 0 OR AltSupply < BannedExport \n           THEN \"High Disruption Risk\" \n           ELSE \"Low Disruption Risk\" \n       END AS ImpactAssessment\nORDER BY DependencyRate DESC;\n",
          "width": 8,
          "height": 4,
          "x": 14,
          "y": 9,
          "type": "table",
          "selection": {},
          "settings": {
            "fullscreenEnabled": true,
            "compact": true,
            "transposed": true,
            "backgroundColor": "#07B1FA30"
          },
          "schema": []
        },
        {
          "id": "f6b5c595-5efd-45c2-9a16-ca80ab8226b5",
          "title": "Product Growth Rate",
          "query": "\nMATCH (y:Year)<-[:OBSERVED_IN]-(o:Observation {type: \"consumption\"})<-[:HAS_OBSERVATION]-(tl:TradeLink)-[:FOR_PRODUCT]->(p:FoodProduct)\nMATCH (tl)<-[:HAS_TRADE_LINK]-(c:Country)\nWHERE o.value IS NOT NULL\nWITH p.name AS Product, y.year AS Year, SUM(o.value) AS TotalConsumption\nORDER BY Product, Year\n\nWITH Product, COLLECT({Year: Year, Consumption: TotalConsumption}) AS DataPoints\nUNWIND RANGE(1, SIZE(DataPoints)-1) AS idx\nWITH Product, \n     DataPoints[idx-1].Year AS PreviousYear,\n     DataPoints[idx].Year AS CurrentYear,\n     DataPoints[idx-1].Consumption AS PreviousConsumption,\n     DataPoints[idx].Consumption AS CurrentConsumption\nWHERE PreviousConsumption IS NOT NULL AND CurrentConsumption IS NOT NULL\n\nRETURN Product, \n       CurrentYear AS Year, \n       CurrentConsumption AS TotalConsumption,\n       ROUND(((CurrentConsumption - PreviousConsumption) / PreviousConsumption) * 100, 2) AS GrowthRate\nORDER BY GrowthRate DESC;",
          "width": 8,
          "height": 4,
          "x": 14,
          "y": 17,
          "type": "table",
          "selection": {},
          "settings": {
            "fullscreenEnabled": true,
            "backgroundColor": "#F6DBDB"
          },
          "schema": []
        },
        {
          "id": "06c0bf1d-21ae-4bcb-9bb8-50488ae08e7e",
          "title": "Select Product",
          "query": "MATCH (p:FoodProduct)\nRETURN DISTINCT p.name AS value\nORDER BY value\n",
          "width": 6,
          "height": 2,
          "x": 8,
          "y": 17,
          "type": "select",
          "selection": {},
          "settings": {
            "fullscreenEnabled": true,
            "ignoreNonDefinedParams": false,
            "type": "Custom Query",
            "entityType": "chosenProduct",
            "backgroundColor": "#CACACA",
            "parameterName": "neodash_chosenproduct"
          },
          "schema": []
        },
        {
          "id": "b14db006-0c9c-4868-99d7-b42bf8fd8e07",
          "title": "_________________________",
          "query": "## Future Enhancements\n\n- **Monthly Granularity**: Add monthly Observations to detect seasonal patterns.\n- **Logistics Modeling**: Introduce Ports/Warehouses for route analysis.\n- **Emissions Data**: Incorporate GHG footprints to track carbon intensity.\n- **Machine Learning**: Predict supply disruptions or price spikes with advanced models.\n",
          "width": 6,
          "height": 5,
          "x": 16,
          "y": 0,
          "type": "text",
          "selection": {},
          "settings": {},
          "schema": []
        },
        {
          "id": "469143a2-f610-441f-9249-85614ee8acf3",
          "title": "_________________________",
          "query": "# How to Use This Dashboard\n\n\n1. **Select Product**  \n   - Pick a product (e.g., \"Apples\") to filter all metrics on that product.\n\n2. **Shortest Path**  \n   - Choose start and end countries to see the minimal TRADES path in the network.\n\n3. **Hover Over Charts**  \n   - For bar/pie charts, hover your cursor to see exact numeric values.\n\n4. **Zoom & Pan**  \n   - In the graph model or map panels, scroll or drag to navigate around.\n\n",
          "width": 6,
          "height": 5,
          "x": 0,
          "y": 0,
          "type": "text",
          "selection": {},
          "settings": {},
          "schema": []
        },
        {
          "id": "f40d6d64-1577-495a-ba0f-716e572bab5b",
          "title": "._______________________.",
          "query": ">#### *\"Visualization sells insights, not pictures.\"*  \n\n",
          "width": 6,
          "height": 2,
          "x": 8,
          "y": 19,
          "type": "text",
          "selection": {},
          "settings": {},
          "schema": []
        }
      ]
    },
    {
      "title": "New page",
      "reports": []
    }
  ],
  "parameters": {},
  "extensions": {
    "active": true,
    "activeReducers": []
  }
}